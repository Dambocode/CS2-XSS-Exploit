from flask import Flask, render_template, request, redirect, url_for, flash
from werkzeug.middleware.proxy_fix import ProxyFix

app = Flask(__name__)
app.wsgi_app = ProxyFix(app.wsgi_app, x_for=1, x_host=1)

@app.route('/')
def index():
    client_ip = request.headers.get('X-Forwarded-For', request.remote_addr)
    # print({'cs2_user_ip': client_ip})
    return render_template('index.html')

@app.route('/javaScriptIsRunning', methods=['GET', 'POST'])
def javaScriptIsRunning():
    print("JavaScript is executing curl requests")
    return "OK"

app.run(port=8080, debug=True)